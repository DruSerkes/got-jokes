(this["webpackJsonpgot-jokes"]=this["webpackJsonpgot-jokes"]||[]).push([[0],{38:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),o=n.n(a),i=n(11),c=n.n(i),s=(n(38),n(10)),l=n(19),j=n.n(l),u=n(28),d=n(29),v=n.n(d),b="https://v2.jokeapi.dev",h=function(e){return new Promise((function(t){return setTimeout(t,e)}))},O=function(){var e=Object(u.a)(j.a.mark((function e(){var t,n,r,a=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:0,e.prev=1,e.next=4,v.a.get("".concat(b,"/joke/any?safe-mode"));case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:if(e.prev=9,e.t0=e.catch(1),!(t>7)){e.next=13;break}throw e.t0;case 13:return console.log({error:e.t0}),e.next=16,h(10*Math.pow(2,t));case 16:return t++,e.abrupt("return",O(t));case 18:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),f=n(14),x=n(15),m=n(16),g=n(30),k=(n(59),function(e){var t,n=e.joke,a=e.isLoading;return Object(r.jsxs)(f.a,{className:"Joke",children:[!n&&Object(r.jsx)(g.a,{animation:"grow"}),!a&&"twopart"===(null===n||void 0===n?void 0:n.type)&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(x.a,{className:"Joke-Setup my-3",children:Object(r.jsx)(m.a,{children:null===n||void 0===n?void 0:n.setup})}),Object(r.jsx)(x.a,{className:"Joke-Delivery my-3",children:Object(r.jsx)(m.a,{children:null===n||void 0===n?void 0:n.delivery})})]}),!a&&"single"===(null===n||void 0===n?void 0:n.type)&&Object(r.jsx)(x.a,{className:"my-3",children:Object(r.jsx)(m.a,{children:null!==(t=null===n||void 0===n?void 0:n.joke)&&void 0!==t?t:"No kidding!\n Sorry, but we couldn't fetch a joke. Please try again"})})]})}),p=n(7),y=(n(60),function(e){var t=e.joke,n=e.bootstrapClasses,a=t.joke?t.joke:"".concat(t.setup," ").concat(t.delivery),o="https://twitter.com/intent/tweet?text=".concat(a);return Object(r.jsx)(p.a,{as:"a",variant:"outline-dark",title:"tweet this joke",href:o,target:"_blank",rel:"noopener noreferrer",className:"TweetButton ".concat(n?n.join(" "):"")})}),F=(n(61),function(e){var t=e.joke,n=e.clearFavorites;return Object(r.jsxs)("li",{className:"py-3 list-group-item-dark border-bottom rounded border-dark",children:["twopart"===t.type?Object(r.jsxs)(r.Fragment,{children:[null===t||void 0===t?void 0:t.setup,Object(r.jsx)("br",{}),null===t||void 0===t?void 0:t.delivery]}):null===t||void 0===t?void 0:t.joke,Object(r.jsx)(y,{joke:t,bootstrapClasses:["py-3","px-1"]}),Object(r.jsx)(p.a,{onClick:function(){return n(t.id)},className:"Favorite-removeButton",variant:"link",children:"X"})]})}),w=function(e){var t=e.favorites,n=e.clearFavorites;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"Favorites"}),(null===t||void 0===t?void 0:t.length)?Object(r.jsx)("ul",{className:"Favorites rounded list-group my-3",children:t.map((function(e){return Object(r.jsx)(F,{joke:e,clearFavorites:n},e.id)}))}):Object(r.jsx)("h4",{children:"You don't have any favorites!"})]})},N=n(32),C=n(31),S=n(9),J=function(e){e.joke;var t=e.viewingFavorites,n=e.saveFavoriteJoke,o=Object(a.useState)(!1),i=Object(s.a)(o,2),c=i[0],l=i[1],j=function(){return l(!1)};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(p.a,{variant:"info",onClick:function(){return l(!0)},disabled:!!t,className:"my-4",children:"Save to Favorites"}),Object(r.jsxs)(S.a,{show:c,onHide:j,children:[Object(r.jsx)(S.a.Header,{closeButton:!0,children:Object(r.jsx)(S.a.Title,{children:"Confirm"})}),Object(r.jsx)(S.a.Body,{children:"Are you sure you want to save this joke to your favorites?"}),Object(r.jsxs)(S.a.Footer,{children:[Object(r.jsx)(p.a,{variant:"outline-danger",onClick:j,children:"Cancel"}),Object(r.jsx)(p.a,{variant:"success",onClick:function(){n(),j()},children:"Save"})]})]})]})},B=function(e){var t=e.viewingFavorites,n=e.haveFavorites,o=e.clearFavorites,i=Object(a.useState)(!1),c=Object(s.a)(i,2),l=c[0],j=c[1],u=function(){return j(!1)};return Object(r.jsxs)(r.Fragment,{children:[t&&n&&Object(r.jsx)(p.a,{variant:"warning",onClick:function(){return j(!0)},className:"my-4",children:"Clear Favorites"}),Object(r.jsxs)(S.a,{show:l,onHide:u,children:[Object(r.jsx)(S.a.Header,{closeButton:!0,children:Object(r.jsx)(S.a.Title,{children:"Confirm"})}),Object(r.jsxs)(S.a.Body,{children:["Are you sure you want to clear your favorites?",Object(r.jsx)("br",{}),Object(r.jsx)("small",{className:"text-warning",children:"This action cannot be undone!!"})]}),Object(r.jsxs)(S.a.Footer,{children:[Object(r.jsx)(p.a,{variant:"outline-secondary",onClick:u,children:"Cancel"}),Object(r.jsx)(p.a,{variant:"danger",onClick:function(){o(),j(!1)},children:"Remove All"})]})]})]})},L=(n(65),function(e){var t=e.viewingFavorites,n=e.isLoading,a=e.joke,o=e.favorites,i=e.setJoke,c=e.setViewingFavorites,s=e.setFavorites,l=e.clearFavorites;return Object(r.jsxs)(C.a,{"aria-label":"Main App Buttons",className:"Buttons",children:[Object(r.jsx)(p.a,{variant:"primary",onClick:function(){i(void 0),c(!1)},disabled:!!n,className:"my-4",children:"Make Me Laugh!"}),Object(r.jsx)(J,{joke:a,viewingFavorites:t,saveFavoriteJoke:function(){if(a){var e=[a].concat(Object(N.a)(o));s(e),i(void 0)}}}),Object(r.jsx)(p.a,{variant:"secondary",onClick:function(){return c(!t)},className:"".concat(o.length?"ShowFavoritesButton":""," my-4"),"data-favorites":o.length,children:t?"Hide my Favorites":"Show my Favorites"}),a&&!t&&Object(r.jsx)(y,{joke:a,bootstrapClasses:["my-4"]}),Object(r.jsx)(B,{clearFavorites:l,haveFavorites:!!o.length,viewingFavorites:t})]})}),T=(n(66),function(){return Object(r.jsx)("footer",{className:"Footer",children:Object(r.jsx)("p",{children:Object(r.jsx)("a",{"data-testid":"footer",href:"https://github.com/druserkes",target:"_blank",rel:"noopener noreferrer",children:"Dru Serkes \xa92021"})})})}),A=function(){return Object(r.jsx)("p",{children:Object(r.jsxs)("small",{className:"mb-4",children:[Object(r.jsx)("strong",{children:"Disclaimer:"})," Jokes are being served via ",Object(r.jsx)("a",{href:"https://v2.jokeapi.dev/",target:"_blank",rel:"noopener noreferrer",children:"JokeAPI"}),Object(r.jsx)("br",{}),"Please report any offensive, racist, sexist, or generally horrible / unfunny content"]})})},P=(n(67),function(){var e=Object(a.useState)(void 0),t=Object(s.a)(e,2),n=t[0],o=t[1],i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(a.useState)((function(){var n;try{n=JSON.parse(window.localStorage.getItem(e)||JSON.stringify(t))}catch(r){console.log(r),n=t}return n})),r=Object(s.a)(n,2),o=r[0],i=r[1];return Object(a.useEffect)((function(){window.localStorage.setItem(e,JSON.stringify(o))}),[e,o]),[o,i]}("favorites"),c=Object(s.a)(i,2),l=c[0],j=c[1],u=Object(a.useState)(!0),d=Object(s.a)(u,2),v=d[0],b=d[1],h=Object(a.useState)(!1),x=Object(s.a)(h,2),m=x[0],g=x[1],p=function(e){if(e){var t=l.filter((function(t){return t.id!==e}));j(t)}else j([]),g(!1)};return Object(a.useEffect)((function(){n||(b(!0),O().then((function(e){return o(e)})),b(!1))}),[n]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(f.a,{className:"App",children:[Object(r.jsx)("h1",{className:"h1 my-4",children:"Got Jokes"}),Object(r.jsx)(A,{}),Object(r.jsx)(L,{viewingFavorites:m,isLoading:v,joke:n,favorites:l,setJoke:o,setViewingFavorites:g,setFavorites:j,clearFavorites:p}),!m&&Object(r.jsx)(k,{isLoading:v,joke:n}),m&&Object(r.jsx)(w,{favorites:l,clearFavorites:p})]}),Object(r.jsx)(T,{})]})}),H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),o(e),i(e)}))};n(68);c.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(P,{})}),document.getElementById("root")),H()}},[[69,1,2]]]);
//# sourceMappingURL=main.0dee00d3.chunk.js.map